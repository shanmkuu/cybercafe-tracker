<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Management - CyberCafe Tracker</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="icon" type="image/x-icon" href="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fcybercafe1027back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="min-h-screen bg-background">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 25px 25px, #2563EB 2px, transparent 0), radial-gradient(circle at 75px 75px, #0EA5E9 2px, transparent 0); background-size: 100px 100px;"></div>
    </div>

    <!-- Header -->
    <header class="relative bg-surface border-b border-subtle shadow-card">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-text-primary">File Management</h1>
                        <p class="text-xs text-secondary-500">CyberCafe Tracker</p>
                    </div>
                </div>

                <!-- User Info and Logout -->
                <div class="flex items-center space-x-4">
                    <div class="hidden sm:flex items-center space-x-2 text-sm">
                        <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <div>
                            <p class="font-medium text-text-primary" id="currentUser">Customer</p>
                            <p class="text-xs text-secondary-500" id="sessionTime">Session: 00:00:00</p>
                        </div>
                    </div>
                    <button id="logoutButton" class="btn-secondary px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md">
                        <svg class="w-4 h-4 mr-2 inline" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"/>
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Welcome Section -->
        <div class="mb-8">
            <div class="flex items-center space-x-2 mb-2">
                <svg class="w-5 h-5 text-success" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span class="text-sm font-medium text-success">Session Active</span>
            </div>
            <h2 class="text-2xl font-semibold text-text-primary mb-2">Manage Your Files</h2>
            <p class="text-secondary-500">Upload, download, and organize your personal files securely.</p>
        </div>

        <!-- File Upload Section -->
        <section class="mb-8">
            <div class="card p-6">
                <div class="flex items-center space-x-2 mb-4">
                    <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                    </svg>
                    <h3 class="text-lg font-semibold text-text-primary">Upload Files</h3>
                </div>

                <!-- Upload Zone -->
                <div id="uploadZone" class="border-2 border-dashed border-subtle rounded-lg p-8 text-center transition-all duration-200 hover:border-primary hover:bg-primary-50 cursor-pointer">
                    <div id="uploadContent">
                        <svg class="w-12 h-12 text-secondary-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                        </svg>
                        <h4 class="text-lg font-medium text-text-primary mb-2">Drop files here or click to browse</h4>
                        <p class="text-secondary-500 mb-4">Support for documents, images, and other file types</p>
                        <button id="browseButton" class="btn-primary px-6 py-2 rounded-lg font-medium">
                            Browse Files
                        </button>
                    </div>

                    <!-- Upload Progress -->
                    <div id="uploadProgress" class="hidden">
                        <div class="flex items-center justify-center space-x-3 mb-4">
                            <svg class="animate-spin w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
                            </svg>
                            <span class="text-primary font-medium">Uploading...</span>
                        </div>
                        <div class="w-full bg-secondary-200 rounded-full h-2">
                            <div id="progressBar" class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <p id="progressText" class="text-sm text-secondary-500 mt-2">0% complete</p>
                    </div>
                </div>

                <input type="file" id="fileInput" class="hidden" multiple accept="*/*" />

                <!-- Upload Status Messages -->
                <div id="uploadMessages" class="mt-4 space-y-2"></div>
            </div>
        </section>

        <!-- File Listing Section -->
        <section>
            <div class="card">
                <div class="p-6 border-b border-subtle">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-5L9 2H4z" clip-rule="evenodd"/>
                            </svg>
                            <h3 class="text-lg font-semibold text-text-primary">Your Files</h3>
                            <span id="fileCount" class="status-indicator bg-secondary-100 text-secondary-600">0 files</span>
                        </div>
                        <button id="refreshFiles" class="btn-secondary px-3 py-2 rounded-lg text-sm font-medium">
                            <svg class="w-4 h-4 mr-1 inline" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>

                <!-- Desktop Table View -->
                <div class="hidden md:block overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-secondary-100">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-secondary-600 uppercase tracking-wider">File Name</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-secondary-600 uppercase tracking-wider">Upload Date</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-secondary-600 uppercase tracking-wider">File Size</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-secondary-600 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-3 text-right text-xs font-medium text-secondary-600 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="fileTableBody" class="bg-surface divide-y divide-subtle">
                            <!-- Files will be populated here -->
                        </tbody>
                    </table>
                </div>

                <!-- Mobile Card View -->
                <div id="fileCards" class="md:hidden p-4 space-y-4">
                    <!-- File cards will be populated here -->
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="p-12 text-center">
                    <svg class="w-16 h-16 text-secondary-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <h4 class="text-lg font-medium text-secondary-600 mb-2">No files uploaded yet</h4>
                    <p class="text-secondary-500">Upload your first file to get started</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Download Modal -->
    <div id="downloadModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="modal max-w-md w-full p-6">
            <div class="flex items-center space-x-3 mb-4">
                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
                <h3 class="text-lg font-semibold text-text-primary">Download File</h3>
            </div>
            <p class="text-secondary-600 mb-6">Are you sure you want to download this file?</p>
            <div class="flex space-x-3">
                <button id="confirmDownload" class="flex-1 btn-primary py-2 px-4 rounded-lg font-medium">
                    Download
                </button>
                <button id="cancelDownload" class="flex-1 btn-secondary py-2 px-4 rounded-lg font-medium">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script>
        // Mock file storage
        let userFiles = JSON.parse(localStorage.getItem('userFiles') || '[]');
        let currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
        let sessionStartTime = new Date();

        // DOM elements
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        const browseButton = document.getElementById('browseButton');
        const uploadContent = document.getElementById('uploadContent');
        const uploadProgress = document.getElementById('uploadProgress');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const uploadMessages = document.getElementById('uploadMessages');
        const fileTableBody = document.getElementById('fileTableBody');
        const fileCards = document.getElementById('fileCards');
        const emptyState = document.getElementById('emptyState');
        const fileCount = document.getElementById('fileCount');
        const refreshFiles = document.getElementById('refreshFiles');
        const logoutButton = document.getElementById('logoutButton');
        const downloadModal = document.getElementById('downloadModal');
        const confirmDownload = document.getElementById('confirmDownload');
        const cancelDownload = document.getElementById('cancelDownload');
        const currentUserElement = document.getElementById('currentUser');
        const sessionTimeElement = document.getElementById('sessionTime');

        let selectedFileForDownload = null;

        // Initialize
        window.addEventListener('load', function() {
            // Check authentication
            if (!currentUser.username || currentUser.role !== 'customer') {
                window.location.href = 'login.html';
                return;
            }

            currentUserElement.textContent = currentUser.username;
            updateSessionTime();
            setInterval(updateSessionTime, 1000);
            renderFiles();
        });

        // Session time tracking
        function updateSessionTime() {
            const now = new Date();
            const diff = now - sessionStartTime;
            const hours = Math.floor(diff / 3600000);
            const minutes = Math.floor((diff % 3600000) / 60000);
            const seconds = Math.floor((diff % 60000) / 1000);
            sessionTimeElement.textContent = `Session: ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // File upload handlers
        uploadZone.addEventListener('click', () => fileInput.click());
        browseButton.addEventListener('click', (e) => {
            e.stopPropagation();
            fileInput.click();
        });

        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('border-primary', 'bg-primary-50');
        });

        uploadZone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('border-primary', 'bg-primary-50');
        });

        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('border-primary', 'bg-primary-50');
            const files = Array.from(e.dataTransfer.files);
            handleFileUpload(files);
        });

        fileInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            handleFileUpload(files);
        });

        function handleFileUpload(files) {
            if (files.length === 0) return;

            // Show upload progress
            uploadContent.classList.add('hidden');
            uploadProgress.classList.remove('hidden');
            uploadMessages.innerHTML = '';

            let uploadedCount = 0;
            const totalFiles = files.length;

            files.forEach((file, index) => {
                // Simulate upload progress
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 30;
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        
                        // Add file to storage
                        const newFile = {
                            id: Date.now() + index,
                            name: file.name,
                            size: file.size,
                            type: file.type,
                            uploadDate: new Date().toISOString(),
                            status: 'ready',
                            owner: currentUser.username
                        };
                        
                        userFiles.push(newFile);
                        localStorage.setItem('userFiles', JSON.stringify(userFiles));
                        
                        uploadedCount++;
                        
                        // Show success message
                        showUploadMessage(`✓ ${file.name} uploaded successfully`, 'success');
                        
                        if (uploadedCount === totalFiles) {
                            setTimeout(() => {
                                uploadContent.classList.remove('hidden');
                                uploadProgress.classList.add('hidden');
                                renderFiles();
                                fileInput.value = '';
                            }, 1000);
                        }
                    }
                    
                    const overallProgress = ((uploadedCount * 100) + progress) / totalFiles;
                    progressBar.style.width = `${overallProgress}%`;
                    progressText.textContent = `${Math.round(overallProgress)}% complete`;
                }, 100);
            });
        }

        function showUploadMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `p-3 rounded-lg text-sm ${type === 'success' ? 'bg-success-100 text-success border border-success' : 'bg-error-100 text-error border border-error'}`;
            messageDiv.textContent = message;
            uploadMessages.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        function renderFiles() {
            const currentUserFiles = userFiles.filter(file => file.owner === currentUser.username);
            fileCount.textContent = `${currentUserFiles.length} files`;

            if (currentUserFiles.length === 0) {
                emptyState.classList.remove('hidden');
                fileTableBody.innerHTML = '';
                fileCards.innerHTML = '';
                return;
            }

            emptyState.classList.add('hidden');

            // Render desktop table
            fileTableBody.innerHTML = currentUserFiles.map(file => `
                <tr class="hover:bg-secondary-50 transition-colors">
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-5L9 2H4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-text-primary">${file.name}</p>
                                <p class="text-xs text-secondary-500">${file.type || 'Unknown type'}</p>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-secondary-600">
                        ${new Date(file.uploadDate).toLocaleDateString()}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-secondary-600">
                        ${formatFileSize(file.size)}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-indicator status-success">Ready</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button 
                            onclick="initiateDownload('${file.id}')"
                            class="btn-primary px-3 py-1 rounded text-xs hover:shadow-md transition-all"
                        >
                            <svg class="w-3 h-3 mr-1 inline" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                            </svg>
                            Download
                        </button>
                    </td>
                </tr>
            `).join('');

            // Render mobile cards
            fileCards.innerHTML = currentUserFiles.map(file => `
                <div class="card p-4">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-5L9 2H4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium text-text-primary">${file.name}</p>
                                <p class="text-xs text-secondary-500">${file.type || 'Unknown type'}</p>
                            </div>
                        </div>
                        <span class="status-indicator status-success text-xs">Ready</span>
                    </div>
                    <div class="flex justify-between items-center text-sm text-secondary-600 mb-3">
                        <span>${new Date(file.uploadDate).toLocaleDateString()}</span>
                        <span>${formatFileSize(file.size)}</span>
                    </div>
                    <button 
                        onclick="initiateDownload('${file.id}')"
                        class="w-full btn-primary py-2 px-4 rounded-lg font-medium"
                    >
                        <svg class="w-4 h-4 mr-2 inline" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                        Download
                    </button>
                </div>
            `).join('');
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function initiateDownload(fileId) {
            const file = userFiles.find(f => f.id == fileId);
            if (file) {
                selectedFileForDownload = file;
                downloadModal.classList.remove('hidden');
            }
        }

        // Download modal handlers
        confirmDownload.addEventListener('click', () => {
            if (selectedFileForDownload) {
                // Simulate file download
                const link = document.createElement('a');
                link.href = `https://images.pexels.com/photos/1181671/pexels-photo-1181671.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2`;
                link.download = selectedFileForDownload.name;
                link.click();
                
                // Log download activity
                const activity = {
                    type: 'download',
                    fileName: selectedFileForDownload.name,
                    user: currentUser.username,
                    timestamp: new Date().toISOString()
                };
                
                const activities = JSON.parse(localStorage.getItem('fileActivities') || '[]');
                activities.push(activity);
                localStorage.setItem('fileActivities', JSON.stringify(activities));
                
                downloadModal.classList.add('hidden');
                selectedFileForDownload = null;
                
                showUploadMessage(`✓ ${selectedFileForDownload?.name || 'File'} downloaded successfully`, 'success');
            }
        });

        cancelDownload.addEventListener('click', () => {
            downloadModal.classList.add('hidden');
            selectedFileForDownload = null;
        });

        // Refresh files
        refreshFiles.addEventListener('click', () => {
            renderFiles();
            showUploadMessage('✓ File list refreshed', 'success');
        });

        // Logout functionality
        logoutButton.addEventListener('click', () => {
            // Log session end
            const sessionLog = {
                user: currentUser.username,
                loginTime: currentUser.loginTime,
                logoutTime: new Date().toISOString(),
                duration: new Date() - sessionStartTime
            };
            
            const sessions = JSON.parse(localStorage.getItem('sessionLogs') || '[]');
            sessions.push(sessionLog);
            localStorage.setItem('sessionLogs', JSON.stringify(sessions));
            
            // Clear current user
            localStorage.removeItem('currentUser');
            
            // Redirect to login
            window.location.href = 'login.html';
        });

        // Close modal on outside click
        downloadModal.addEventListener('click', (e) => {
            if (e.target === downloadModal) {
                downloadModal.classList.add('hidden');
                selectedFileForDownload = null;
            }
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>